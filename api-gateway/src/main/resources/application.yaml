okta:
  oauth2:
    issuer: https://dev-45372882.okta.com/oauth2/default
server:
  port: 8082
spring:
  application:
    name: gateway
  main:
    allow-bean-definition-overriding: true
  cloud.gateway:
    discovery:
      locator:
        enabled: true
        lowerCaseServiceId: true
      httpclient:
        ssl:
          useInsecureTrustManager: true
    routes:
        # TODO - solve service names
      - id: bank
        uri: lb://bank-api
        predicates:
          # TODO - bank endpoints
          - Path=/bank/**
        filters:
          - TokenRelay=
          - RemoveRequestHeader=Cookie
      - id: dotnet
        uri: lb://IncomeExpensesService
        predicates:
          - Path=/IncomeExpenses/**
        # TODO - security in .net microservice
        filters:
          - TokenRelay=
          - RemoveRequestHeader=Cookie
          